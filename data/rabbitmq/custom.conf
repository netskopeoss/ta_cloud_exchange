consumer_timeout = 2592000000
disk_free_limit.absolute = $(RABBITMQ_RAM_RESOURCES)MB
total_memory_available_override_value = $(RABBITMQ_RAM_RESOURCES)MB
vm_memory_high_watermark_paging_ratio = 0.60
vm_memory_high_watermark.relative = 0.80
cluster_partition_handling = pause_minority

# disables non-TLS listeners, only TLS-enabled clients will be able to connect
listeners.tcp = none

# add support for both tls versions
ssl_options.versions.1 = tlsv1.3
ssl_options.versions.2 = tlsv1.2

listeners.ssl.default = 5671
ssl_options.certfile = /etc/rabbitmq/conf.d/rabbitmq_cert.crt
ssl_options.keyfile = /etc/rabbitmq/conf.d/rabbitmq_cert_key.key
ssl_options.cacertfile = /etc/rabbitmq/conf.d/rabbitmq_cert_ca.crt
ssl_options.verify = verify_none
ssl_options.fail_if_no_peer_cert = false

management.ssl.port = 15671
management.ssl.certfile = /etc/rabbitmq/conf.d/rabbitmq_cert.crt
management.ssl.keyfile = /etc/rabbitmq/conf.d/rabbitmq_cert_key.key
management.ssl.cacertfile = /etc/rabbitmq/conf.d/rabbitmq_cert_ca.crt
management.ssl.verify = verify_none
management.ssl.fail_if_no_peer_cert = false

# maximum message size in bytes
max_message_size = 134217728
